<#macro form action>
<&commat;row>
    <&commat;columns>
        <&commat;box>
            <&commat;boxHeader title='#i18n&lbrace;${businessObject.pluginName}.${action}_${businessObject.instanceName?lower_case}.title}' />
            <&commat;boxBody>
                <&commat;tform name='${action}_${businessObject.instanceName?lower_case}' action='jsp/admin/plugins/${businessObject.pluginName}/Manage${businessObject.className}s.jsp'>
                    <&commat;messages errors=errors />
                        <#if action='modify'>
                        &lt;input type="hidden" id="id" name="id" value="$&lbrace;${businessObject.instanceName}.id&rbrace;"/&gt;
                        </#if>
                        <#list businessObject.attributes as attribute>
                        <#switch attribute.inputType>

                            <#-- ----------- select ------------->
                            <#case 'select'>
                            <&commat;cFormRow class='mt-3'>
	                            <&commat;cCol params='aria-describedby="cSelect"'>
		                            <&commat;@cField label='#i18n&lbrace;${businessObject.pluginName}.${action}_${businessObject.instanceName?lower_case}.label${attribute.name}&rbrace;' mandatory=true>
		                                <&commat;cSelect name='${attribute.columnName}'>
		                                <#assign default_value='$&lbrace;${businessObject.instanceName}.${attribute.name?uncap_first}&rbrace;' />
		                                <#list ${attribute.columnName}s_list as opt_value>
		                                <#if opt_value == default_value>
		                                <&commat;cOption label=opt_value value=opt_value selected=true />
		                                <#else>
		                                <&commat;cOption label=opt_value value=opt_value />
		                                </#if>
		                                </#list>
		                                <&sol;&commat;cSelect>
		                                <@cFormHelp id='cSelect' label='#i18n&lbrace;${businessObject.pluginName}.${action}_${businessObject.instanceName?lower_case}.label${attribute.name}.help&rbrace;' />
		                            <&sol;&commat;@cField>
	                            <&sol;&commat;cCol>
                            <&sol;&commat;cFormRow>
                            <#break>

                            <#-- ----------- checkbox ------------->
                            <#case 'checkbox'>
                            <&commat;formGroup class='mb-5'>
                                <&commat;cLabel label='#i18n&lbrace;${businessObject.pluginName}.${action}_${businessObject.instanceName?lower_case}.label${attribute.name}.help&rbrace;' for='${attribute.columnName}' />
                                <&commat;cCheckbox  name='${attribute.columnName}' value='1' />
                            <&sol;&commat;formGroup>
                            <#break>

                            <#-- ----------- other imputs : text, number, email, password, textarea ------------->
                            <#default>
                            <&commat;formGroup class='mb-5' mandatory=true>
                                <&commat;cLabel label='#i18n&lbrace;${businessObject.pluginName}.${action}_${businessObject.instanceName?lower_case}.label${attribute.name}&rbrace;' for='${attribute.columnName}' />
                                <&commat;cInput name='${attribute.columnName}' type='${attribute.inputType}' value='$&lbrace;${businessObject.instanceName}.${attribute.name?uncap_first}!\'\'&rbrace;' helpMsg='#i18n&lbrace;${businessObject.pluginName}.${action}_${businessObject.instanceName?lower_case}.label${attribute.name}.help&rbrace;' />
                            <&sol;&commat;formGroup>
                         </#switch>   

                        </#list>
                        <&commat;actionButtons button1Name="action_${action}${businessObject.className}" button2Name="view_manage${businessObject.className}"/>
                <&sol;&commat;tform>
            <&sol;&commat;boxBody>
        <&sol;&commat;box>
    <&sol;&commat;columns>
<&sol;&commat;row>
</#macro>